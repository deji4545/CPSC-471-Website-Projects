{"ast":null,"code":"var _jsxFileName = \"/Users/umarhassan/Documents/GitHub/CPSC-471-Website-Projects/frontend/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react'; // import { Redirect, Link } from \"react-router-dom\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = () => {\n  _s();\n\n  const [password, setPassword] = useState('');\n  const [eId, setId] = useState('');\n  const [errorMessage, setMessage] = useState('');\n  const [user, setUser] = useState(null);\n\n  const onSubmit = e => {\n    e.preventDefault();\n\n    if (eId === \"\" || password === \"\") {\n      setMessage('Eid or password cannot be empty');\n      return;\n    }\n\n    fetch(`http://localhost:3000/api/login/${eId}/${password}`, {\n      method: \"GET\"\n    }).then(response => response.json()).then(data => {\n      console.log(data);\n      setUser(data);\n\n      if (data.login_correct === false) {\n        setMessage('Wrong id or password');\n        return;\n      }\n\n      sessionStorage.setItem('type', data.staff_type);\n    });\n  };\n\n  const onIdChange = e => {\n    let value = e.target.value;\n    let name = e.target.name;\n    const number = /^[0-9\\b]+$/;\n\n    if (number.test(value) || value === '') {\n      setId(value);\n    }\n  };\n\n  if (user !== null) {}\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"outer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"full-form-style\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-style\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Employee id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter id\",\n            value: eId,\n            onChange: onIdChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-style\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Login\",\n          style: {\n            marginTop: \"20px\"\n          },\n          className: \"btn btn-block\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginPage, \"JyRSqoCe49pXDuoXt/4sHAFWHK4=\");\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/umarhassan/Documents/GitHub/CPSC-471-Website-Projects/frontend/src/components/Login.js"],"names":["React","useState","LoginPage","password","setPassword","eId","setId","errorMessage","setMessage","user","setUser","onSubmit","e","preventDefault","fetch","method","then","response","json","data","console","log","login_correct","sessionStorage","setItem","staff_type","onIdChange","value","target","name","number","test","marginTop"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\n// import { Redirect, Link } from \"react-router-dom\";\n\n\nconst LoginPage = () => {\n    const [password, setPassword] = useState('')\n    const [eId, setId] = useState('')\n    const [errorMessage, setMessage] = useState('')\n    const [user, setUser] = useState(null)\n\n    const onSubmit = (e) => {\n        e.preventDefault()\n        if (eId === \"\" || password === \"\") {\n            setMessage('Eid or password cannot be empty')\n            return;\n        }\n\n        fetch(`http://localhost:3000/api/login/${eId}/${password}`, { method: \"GET\" })\n            .then(response => response.json())\n            .then(data => {\n                console.log(data)\n                setUser(data);\n                if (data.login_correct === false) {\n                    setMessage('Wrong id or password')\n                    return;\n                }\n                sessionStorage.setItem('type', data.staff_type)\n            });\n\n\n    }\n\n    const onIdChange = e => {\n        let value = e.target.value;\n        let name = e.target.name;\n        const number = /^[0-9\\b]+$/;\n\n        if (number.test(value) || value === '') {\n\n            setId(value)\n\n        }\n    }\n\n    if (user !== null) {\n\n    }\n\n    return (\n        <div className=\"outer\">\n            <div className=\"full-form-style\">\n\n                <form onSubmit={onSubmit}>\n                    <h2>Login</h2>\n\n                    <div className=\"form-style\">\n                        <label>Employee id</label>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Enter id\"\n                            value={eId}\n                            onChange={onIdChange}\n                        />\n                    </div>\n                    <br />\n                    <div className=\"form-style\">\n                        <label>Password</label>\n                        <input\n                            type=\"password\"\n                            placeholder=\"Enter password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                        />\n                    </div>\n                    <div className='error-message'>{errorMessage}</div>\n                    <input type='submit' value='Login' style={{ marginTop: \"20px\" }} className='btn btn-block' />\n\n                </form>\n            </div>\n        </div>\n    )\n}\n\nexport default LoginPage\n"]},"metadata":{},"sourceType":"module"}